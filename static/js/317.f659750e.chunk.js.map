{"version":3,"file":"static/js/317.f659750e.chunk.js","mappings":"qPA6FA,UAvFc,WACZ,OAAgCA,EAAAA,EAAAA,UAAS,CACvCC,MAAO,GACPC,SAAU,KAFZ,eAAOC,EAAP,KAAiBC,EAAjB,KAKMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAe,SAAAC,GACnB,MAAwBA,EAAEC,OAAlBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACdT,GAAY,SAAAU,GAAQ,yBACfA,GADe,cAEjBF,EAAOC,GAFU,GAIrB,EA0CD,OACE,4BACE,oCACA,kBAAME,SA3CW,SAAAL,GAEnB,GADAA,EAAEM,iBAC4B,KAA1Bb,EAASF,MAAMgB,QAA8C,KAA7Bd,EAASD,SAASe,OAAtD,CAGA,IAAMC,EAAO,CACXjB,MAAOE,EAASF,MAChBC,SAAUC,EAASD,UAErBG,GAASc,EAAAA,EAAAA,IAAOD,IACbE,SACAC,MAAK,SAAAC,GAEAA,EAASC,MACXC,IAAAA,OAAAA,QAAwB,qBAExBA,IAAAA,OAAAA,QAAwB,eAG1BnB,GAASoB,EAAAA,EAAAA,OACNL,SACAC,MAAK,SAAAC,GACJI,QAAQC,IAAIL,EACb,IACAM,OAAM,SAAAC,GACLH,QAAQG,MAAM,oBAAqBA,EACpC,IAEHtB,EAAS,wCACTH,EAAY,CACVH,MAAO,GACPC,SAAU,IAEb,IACA0B,OAAM,SAAAC,GAELH,QAAQG,MAAM,sBAAuBA,EACtC,GAjCF,CAkCF,EAKG,WACE,uCAEE,kBACEC,KAAK,QACLlB,KAAK,QACLC,MAAOV,EAASF,MAChB8B,SAAUtB,QAGd,mBACA,0CAEE,kBACEqB,KAAK,WACLlB,KAAK,WACLC,MAAOV,EAASD,SAChB6B,SAAUtB,QAGd,mBACA,mBAAQqB,KAAK,SAAb,yBAIP,C","sources":["components/Pages/LogIn/LogIn.js"],"sourcesContent":["import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { signIn, getProfile } from '../../../redux/auth/thunk';\nimport Notiflix from 'notiflix';\n\nconst LogIn = () => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n  });\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const handleChange = e => {\n    const { name, value } = e.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (formData.email.trim() === '' || formData.password.trim() === '') {\n      return;\n    }\n    const user = {\n      email: formData.email,\n      password: formData.password,\n    };\n    dispatch(signIn(user))\n      .unwrap()\n      .then(response => {\n        // console.log(response);\n        if (response.token) {\n          Notiflix.Notify.success('User is logged in');\n        } else {\n          Notiflix.Notify.failure('Login error');\n        }\n\n        dispatch(getProfile())\n          .unwrap()\n          .then(response => {\n            console.log(response);\n          })\n          .catch(error => {\n            console.error('GetProfile error:', error);\n          });\n\n        navigate('/goit-react-hw-08-phonebook/contacts');\n        setFormData({\n          email: '',\n          password: '',\n        });\n      })\n      .catch(error => {\n        // Notiflix.Notify.failure('Log in is unsuccesfull, try again');\n        console.error('Registration error:', error);\n      });\n  };\n\n  return (\n    <div>\n      <h2>Log in</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          Email:\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n          />\n        </label>\n        <br />\n        <label>\n          Password:\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={handleChange}\n          />\n        </label>\n        <br />\n        <button type=\"submit\">Log in</button>\n      </form>\n    </div>\n  );\n};\n\nexport default LogIn;\n"],"names":["useState","email","password","formData","setFormData","dispatch","useDispatch","navigate","useNavigate","handleChange","e","target","name","value","prevData","onSubmit","preventDefault","trim","user","signIn","unwrap","then","response","token","Notiflix","getProfile","console","log","catch","error","type","onChange"],"sourceRoot":""}